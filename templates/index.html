<!DOCTYPE html>
<html>

<head>
  <title>Jannik's OpenAI Demo App</title>
</head>

<body>
  <h1>OpenAI Demo App</h1>
  <p>built by Jannik Grothusen</p>
  <h2>Text Completion (GPT-3)</h2>

  <form method="post" id="completion-form">
    
    <input type="radio" id="text-davinci-003" name="completion_model" value="text-davinci-003">
    <label for="text-davinci-003">text-davinci-003 (Most capable GPT-3 model. Can do any task the other models can do, often with higher quality, longer output and better instruction-following.)</label><br>
    <input type="radio" id="text-curie-001" name="completion_model" value="text-curie-001">
    <label for="text-curie-001">text-curie-001 (Very capable, but faster and lower cost than Davinci.)</label><br>
    <input type="radio" id="text-babbage-001" name="completion_model" value="text-babbage-001">
    <label for="text-babbage-001">text-babbage-001 (Capable of straightforward tasks, very fast, and lower cost.)</label><br>
    <input type="radio" id="text-ada-001" name="completion_model" value="text-ada-001" checked>
    <label for="text-ada-001">text-ada-001 (Capable of very simple tasks, usually the fastest model in the GPT-3 series, and lowest cost.)</label><br>
    
    <label for="completion_prompt">Prompt</label><br>
    <input type="text" name="completion_prompt" id="completion_prompt">
    
    <button type="submit">Submit</button>
  </form>

  {% if completion_prompt %}
    <p><b>Prompt: </b>{{ completion_prompt }}</p>
  {% endif %}

  {% if completion_response %}
    <p><b>Response: </b>{{ completion_response }}</p>
  {% endif%}


  <h2>Image Generation (DALLÂ·E 2)</h2>
  <form method="post" id="image-form">
    <label for="image_prompt">Prompt</label><br>
    <input type="text" name="image_prompt" id="image_prompt">
    <button type="submit">Submit</button>
  </form>

  {% if image_prompt %}
    <p><b>Prompt: </b>{{ image_prompt }}</p>
  {% endif %}

  {% if image_url %}
    <p><b>Image:</b></p>
    <image src="{{ image_url }}"/>
  {% endif%}


  <!-- AJAX with jQuery -->
  <script src="{{ url_for('static', filename='jquery.js') }}"></script>

  <script type="text/javascript">
    $(document).on('submit', '#completion-form', function (e) {
        e.preventDefault();
        $.ajax({
          type: 'POST',
          url: '/',
          data: {
            completion_model: $("#completion_model").val(),
            completion_prompt: $("#completion_prompt").val(),
          },
        })
    });

    $(document).on('submit', '#image-form', function (e) {
        e.preventDefault();
        $.ajax({
          type: 'POST',
          url: '/',
          data: {
            image_prompt: $("#image_prompt").val()
          },
        })
    });
  </script>

</body>

</html>